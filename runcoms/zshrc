#
# Executes commands at the start of an interactive session.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#

# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

# Customize to your needs...
fpath=(~/dotfiles/prezto/modules/wd $fpath)

wd() {
    . ~/dotfiles/prezto/modules/wd/wd.sh
}

compinit -i

# Vim Pager for psql!
alias psql='PAGER=vimpsqlpager psql'
alias pgcli='PAGER=vimpgclipager pgcli'

# Unaltered PSQL/PGCLI
alias rpsql='PAGER=less /usr/bin/psql'
alias rpgcli='PAGER=less /usr/local/bin/pgcli'

# from /home/yokley/.bashrc
export EMAIL=kevin.yokley #youremailusername - for database scrubbing
export TEXTURA_APPDIR=$HOME/TexturaWD                # so that you don't have to tell tapp where your environment is
export TEXTURA_TTOOLS_VERBOSE=1                                  # display every command that dbmigration and tapp run along with its output
export TEXTURA_DATABASE_PATH=$HOME/appserver1 # where dumps are stored (defaults to home directory)
export TEXTURA_LETTUCE_VIRTUALENV_PATH=$HOME/virtualenvs/py27
export TEXTURA_MOCHA_VIRTUALENV_PATH=$HOME/virtualenvs/mocha
export T=https://dev1.texturallc.net/svn/textura
export PDQBACH_SETTINGS=~/pdqbach.conf
export PYPI='http://pypi.texturallc.net/dev'
export J2SDKDIR=/usr/lib/jvm/oracle_jdk8
export J2REDIR=/usr/lib/jvm/oracle_jdk8/jre
export PATH=$PATH:/usr/lib/jvm/oracle_jdk8/bin:/usr/lib/jvm/oracle_jdk8/db/bin:/usr/lib/jvm/oracle_jdk8/jre/bin
export JAVA_HOME=/usr/lib/jvm/oracle_jdk8
export DERBY_HOME=/usr/lib/jvm/oracle_jdk8/db
export VT_SHOW_TRACEBACK=true
export VT_DEFAULT_LIST=personal
export VT_PROXY=''
export VT_URL='https://almagest.dyndns.org:7001/vittlify/'

dfpgdev2=(-h dfpgdev2.texturallc.net -U textura_system)
dfpgdev3=(-h dfpgdev3.texturallc.net -U kyokley)
dfappps1=(-h dfappps1.texturallc.net -U textura_system)
dev062=(-h dev062.texturallc.net -U kevinyokley)
silverback=(-h silverback.us.oracle.com -U textura_system)
tmon=(-h chmonpro1.texturallc.net -U monitor)
kottke=10.140.6.48

almagest=(-h almagest.dyndns.org -U yokley)
export PATH=$PATH:~/.cabal/bin
export PATH=$PATH:/usr/local/go/bin

alias google-chrome='google-chrome --disable-gpu-compositing'
alias runserver='./manage.py runserver --settings=dev_settings'
# and/or you can set the django settings module with an environment setting
# export DJANGO_SETTINGS_MODULE='dev_settings'
alias cpm='if [ $VIRTUAL_ENV ]; then deactivate; else source ~/virtualenvs/cpm/bin/activate; fi'
alias pdq='if [ $VIRTUAL_ENV ]; then deactivate; else source ~/virtualenvs/pdq/bin/activate; fi'

# Custom git command
alias git-scrub='git branch --merged | grep -v master | xargs git branch -d'

# Alias docker commands
alias krill='docker run --rm -it kyokley/krill'
alias ossh='docker run --rm -it -p 127.0.0.1:2222-2223:2222-2223 --privileged --env HOST=yokley@dev007.us.oracle.com kyokley/ossh'
alias vt="docker run --rm
                     -it
                     -v ~/.ssh:/root/.ssh
                     --env VT_URL=$VT_URL
                     --env VT_USERNAME=yokley
                     --env VT_DEFAULT_LIST=$VT_DEFAULT_LIST
                     --env VT_PROXY=$VT_PROXY
                     --net=host
                     kyokley/vt"

# Source private env vars.
if [ -f "$HOME/.zpriv" ]; then
    source "$HOME/.zpriv"
fi
